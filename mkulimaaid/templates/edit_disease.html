{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
  <div class="card shadow">
    <div class="card-header bg-success text-white">
      <h4 class="mb-0">Edit Disease</h4>
    </div>
    <div class="card-body">
      <form method="POST" enctype="multipart/form-data" action="{{ url_for('main.edit_disease', disease_id=disease.id) }}">
        {{ form.hidden_tag() }}

        <!-- Disease Name -->
        <div class="form-group">
          <label for="name">Disease Name</label>
          {{ form.name(class="form-control", placeholder="Enter disease name") }}
          {% for error in form.name.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
        </div>

        <!-- Scientific Name -->
        <div class="form-group">
          <label for="scientific_name">Scientific Name</label>
          {{ form.scientific_name(class="form-control", placeholder="Enter scientific name (optional)") }}
          {% for error in form.scientific_name.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
        </div>

        <!-- Symptoms -->
        <div class="form-group">
          <label for="symptoms">Symptoms</label>
          {{ form.symptoms(class="form-control", rows=3, placeholder="Describe symptoms") }}
          {% for error in form.symptoms.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
        </div>

        <!-- Causes -->
        <div class="form-group">
          <label for="causes">Causes</label>
          {{ form.causes(class="form-control", rows=3, placeholder="Describe causes") }}
          {% for error in form.causes.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
        </div>

        <!-- Description -->
        <div class="form-group">
          <label for="description">Description</label>
          {{ form.description(class="form-control", rows=3, placeholder="Add a description (optional)") }}
          {% for error in form.description.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
        </div>

        <!-- Organic Control Methods -->
        <div class="form-group">
          <label for="organic_control">Organic Control Methods</label>
          {{ form.organic_control(class="form-control", rows=3, placeholder="Organic control methods (optional)") }}
          {% for error in form.organic_control.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
        </div>

        <!-- Chemical Control Methods -->
        <div class="form-group">
          <label for="chemical_control">Chemical Control Methods</label>
          {{ form.chemical_control(class="form-control", rows=3, placeholder="Chemical control methods (optional)") }}
          {% for error in form.chemical_control.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
        </div>

        <!-- Preventive Measures -->
        <div class="form-group">
          <label for="preventive_measures">Preventive Measures</label>
          {{ form.preventive_measures(class="form-control", rows=3, placeholder="Preventive measures (optional)") }}
          {% for error in form.preventive_measures.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
        </div>

        <!-- Image Upload -->
        <div class="form-group">
          <label for="image">Disease Image</label>
          <img src="{{ url_for('static', filename='uploads/' + disease.image) }}" alt="Disease Image" class="img-thumbnail mb-2">
          {{ form.image(class="form-control-file") }}
          {% for error in form.image.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
        </div>

        <!-- Submit Button -->
        <div class="form-group mt-4">
          <button type="submit" class="btn btn-success btn-block">Update Disease <i class="fas fa-sync-alt"></i> </button>
        </div>
      </form>
    </div>
  </div>
  <div class="text-center mt-4">
      <a href="{{ url_for('main.diseases') }}" class="btn btn-outline-success fw-bold">
          <i class="fas fa-arrow-left"></i> Back to Diseases <i class="fas fa-exclamation-triangle"></i>
      </a>
  </div>
</div>
{% endblock %}
