{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container my-5">
    <header class="text-center mb-4">
        <h1 class="text-success">{{ title }}</h1>
        <p class="text-muted">{{ description }}</p>
        <p class="text-secondary">Generated on: {{ datetime.utcnow().strftime('%Y-%m-%d %H:%M:%S') }}</p>
    </header>
    <section class="mb-5">
        <h2 class="text-success border-bottom pb-2">User Statistics</h2>
        <ul class="list-unstyled">
            <li><strong>Total Users:</strong> {{ total_users }}</li>
            <li><strong>Admins:</strong> {{ admin_count }}</li>
            <li><strong>Farmers:</strong> {{ farmer_count }}</li>
        </ul>
    </section>
    <section class="mb-5">
        <h2 class="text-success border-bottom pb-2">Top Diseases</h2>
        <div class="table-responsive">
            <table class="table table-bordered table-striped align-middle">
                <thead class="table-success text-center">
                    <tr>
                        <th>Disease Name</th>
                        <th>Count</th>
                    </tr>
                </thead>
                <tbody>
                    {% for disease, count in top_diseases %}
                    <tr>
                        <td>{{ disease }}</td>
                        <td>{{ count }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </section>
    <section>
        <h2 class="text-success border-bottom pb-2">Community Activity</h2>
        <ul class="list-unstyled">
            <li><strong>Active Questions:</strong> {{ active_questions }}</li>
            <li><strong>Active Answers:</strong> {{ active_answers }}</li>
        </ul>
    </section>
</div>
{% endblock %}
